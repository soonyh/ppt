(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[104],{YoGx:function(e,a,t){"use strict";t.r(a);var l,n,r,s,o,i,c,m=t("pVnL"),d=t.n(m),u=(t("+L6B"),t("2/Rp")),p=(t("IzEo"),t("bx4M")),h=(t("14J3"),t("BMrR")),g=(t("jCWc"),t("kPKH")),E=(t("5NDa"),t("5rEg")),b=t("MVZn"),f=t.n(b),R=t("lwsE"),k=t.n(R),y=t("W8MJ"),w=t.n(y),V=t("a1gu"),v=t.n(V),M=t("Nsbk"),S=t.n(M),C=t("7W2i"),F=t.n(C),q=(t("OaEy"),t("2fM7")),x=(t("y8nQ"),t("Vl3Y")),N=t("q1tI"),I=t.n(N),T=t("MuoO"),L=t("Terf"),O=t.n(L),P=t("WnAZ"),z=(t("2qtc"),t("kLXV")),H=t("CkN6"),W=(t("Y+p1"),t("FLAs"),[{title:"\u8d44\u6e90\u7f16\u53f7",dataIndex:"mktResNbr",width:"20%"},{title:"\u8d44\u6e90\u540d\u79f0",dataIndex:"mktResName",width:"50%"},{title:"\u5f52\u5c5e\u90e8\u95e8",dataIndex:"departmentCd",width:"15%"},{title:"\u9002\u7528\u533a\u57df",dataIndex:"regionCd",width:"15%"}]),j=(l=Object(T["connect"])(function(e){var a=e.rightsProduct;return{sourceSelectList:a.sourceSelectList,baseForm:a.baseForm}}),l((r=function(e){function a(e){var t;return k()(this,a),t=v()(this,S()(a).call(this,e)),t.queryMktResource=function(e){var a=t.props.sourceSelectList;t.props.dispatch({type:"rightsProduct/queryMktResource",payload:f()({pageSize:a.pagination.pageSize||10,pageNo:a.pagination.pageNo||1},e)})},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.handleTableChange=function(e){t.queryMktResource({pageSize:e.pageSize,pageNo:e.current})},t.okHandle=function(){var e=t.state.selectedRows,a=t.props,l=a.handleSelectResModalVisible,n=a.baseForm;1===e.length&&(t.props.dispatch({type:"rightsProduct/getRulesByObjId",payload:{mktResource:e[0],baseForm:n}}),l(!1))},t.state={selectedRows:[]},t}return F()(a,e),w()(a,[{key:"componentWillMount",value:function(){this.queryMktResource()}},{key:"render",value:function(){var e=this.state,a=e.loading,t=e.selectedRows,l=this.props,n=l.sourceSelectList,r=l.modalVisible,s=l.handleSelectResModalVisible;return I.a.createElement(z["a"],{destroyOnClose:!0,title:"\u9009\u62e9\u8d44\u6e90",visible:r,onOk:this.okHandle,onCancel:function(){return s()},width:1e3},I.a.createElement(H["a"],{loading:a,rowKey:"mktResId",columns:W,selectedRows:t,onSelectRow:this.handleSelectRows,data:n,onChange:this.handleTableChange}))}}]),a}(N["PureComponent"]),n=r))||n),A=j,B=(t("SwfG"),x["a"].Item),D=q["a"].Option,J=(s=Object(T["connect"])(function(e){var a=e.rightsProduct;return{baseForm:a.baseForm}}),o=x["a"].create(),s(i=o((c=function(e){function a(e){var t;return k()(this,a),t=v()(this,S()(a).call(this,e)),t.onValidateForm=function(){var e=t.props,a=e.form.validateFields,l=e.dispatch,n=e.baseForm;a(function(e,a){l({type:"rightsProduct/skip",payload:{baseForm:f()({},n,a),stepIndex:1}})})},t.handleSelectResModalVisible=function(e){t.setState({selectResModalVisible:!!e})},t.state={selectResModalVisible:!1},t}return F()(a,e),w()(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.form.getFieldDecorator,l=a.baseForm,n=this.state.selectResModalVisible,r={handleSelectResModalVisible:this.handleSelectResModalVisible};return I.a.createElement(N["Fragment"],null,I.a.createElement(x["a"],{layout:"horizontal",className:O.a.stepForm,hideRequiredMark:!0},I.a.createElement(p["a"],{title:"\u57fa\u672c\u4fe1\u606f",bordered:!1,style:{marginBottom:24}},I.a.createElement(h["a"],{gutter:16},I.a.createElement(g["a"],{lg:6,md:12,sm:24},I.a.createElement(B,{label:"\u6743\u76ca\u540d\u79f0"},t("couponName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6743\u76ca\u540d\u79f0"}],initialValue:l.couponName||""})(I.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165\u6743\u76ca\u540d\u79f0"})))),I.a.createElement(g["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},I.a.createElement(B,{label:"\u6743\u76ca\u7c7b\u578b"},t("couponType",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6743\u76ca\u7c7b\u578b"}],initialValue:l.couponType||""})(I.a.createElement(q["a"],{placeholder:"\u8bf7\u9009\u62e9"},I.a.createElement(D,{value:"1000"},"\u5355\u8d44\u6e90"),I.a.createElement(D,{value:"1100"},"\u591a\u8d44\u6e90"))))),I.a.createElement(g["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},I.a.createElement(B,{label:"\u9002\u7528\u573a\u666f"},t("sceneCd",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4f7f\u7528\u573a\u666f"}],initialValue:l.sceneCd||""})(I.a.createElement(q["a"],{placeholder:"\u8bf7\u9009\u62e9"},I.a.createElement(D,{value:"1000"},"\u573a\u666f1"),I.a.createElement(D,{value:"1100"},"\u573a\u666f2")))))),I.a.createElement(h["a"],{gutter:16},I.a.createElement(g["a"],{lg:6,md:12,sm:24},I.a.createElement(B,{label:"\u4f7f\u7528\u533a\u57df"},t("regionCd",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u9002\u7528\u533a\u57df"}],initialValue:l.regionCd||""})(I.a.createElement(q["a"],{placeholder:"\u8bf7\u9009\u62e9"},I.a.createElement(D,{value:"1000"},"\u533a\u57df1"),I.a.createElement(D,{value:"1100"},"\u533a\u57df2"))))),I.a.createElement(g["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},I.a.createElement(B,{label:"\u6743\u76ca\u63cf\u8ff0"},t("mktCouponDesc",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6743\u76ca\u63cf\u8ff0"}],initialValue:l.mktCouponDesc||""})(I.a.createElement(E["a"].TextArea,{style:{minHeight:32},placeholder:"\u8bf7\u8f93\u5165",rows:4})))),I.a.createElement(g["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:24},sm:24},I.a.createElement(B,{label:"\u8425\u9500\u672f\u8bed"},t("mktTerms",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8425\u9500\u672f\u8bed"}],initialValue:l.mktTerms||""})(I.a.createElement(E["a"].TextArea,{style:{minHeight:32},placeholder:"\u8bf7\u8f93\u5165",rows:4}))))),I.a.createElement(h["a"],{gutter:16},I.a.createElement(g["a"],{lg:6,md:12,sm:24},I.a.createElement(B,{label:"\u6743\u76ca\u8d44\u6e90"},I.a.createElement("div",{onClick:function(){return e.handleSelectResModalVisible(!0)}},t("mktResName",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6743\u76ca\u8d44\u6e90"}],initialValue:l.mktResName||""})(I.a.createElement(E["a"],{placeholder:"\u8bf7\u9009\u62e9\u6743\u76ca\u8d44\u6e90",disabled:!0}))))))),I.a.createElement(P["a"],null,I.a.createElement(u["a"],{type:"primary",onClick:this.onValidateForm},"\u4e0b\u4e00\u6b65"))),I.a.createElement(A,d()({},r,{modalVisible:n})))}}]),a}(N["PureComponent"]),i=c))||i)||i);a["default"]=J}}]);