(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[106],{Mi4J:function(e,a,t){"use strict";t.r(a);t("+L6B");var l,r,u,n,m=t("2/Rp"),s=(t("iQDF"),t("+eQT")),p=(t("IzEo"),t("bx4M")),c=(t("giR+"),t("fyUT")),o=(t("14J3"),t("BMrR")),i=(t("jCWc"),t("kPKH")),d=(t("sRBo"),t("kaz8")),y=t("lwsE"),v=t.n(y),E=t("W8MJ"),g=t.n(E),F=t("a1gu"),R=t.n(F),f=t("Nsbk"),h=t.n(f),b=t("7W2i"),x=t.n(b),T=t("lSNA"),q=t.n(T),w=t("MVZn"),C=t.n(w),k=(t("OaEy"),t("2fM7")),P=(t("y8nQ"),t("Vl3Y")),W=t("q1tI"),D=t.n(W),O=t("MuoO"),V=t("WnAZ"),A=t("Terf"),B=t.n(A),M=(t("D5tD"),P["a"].Item),I=k["a"].Option,J=(l=Object(O["connect"])(function(e){var a=e.rightsProduct;return{ruleForm:a.ruleForm}}),r=P["a"].create({mapPropsToFields:function(e){var a=e.ruleForm;return{supplyRule:{supplyTrigger:P["a"].createFormField({value:a.supplyRule.supplyTrigger}),supplyWay:P["a"].createFormField({value:a.supplyRule.supplyWay}),supplyAmount:P["a"].createFormField({value:a.supplyRule.supplyAmount}),paymentAmount:P["a"].createFormField({value:a.supplyRule.paymentAmount}),supplyCredits:P["a"].createFormField({value:a.supplyRule.supplyCredits}),paymentCredits:P["a"].createFormField({value:a.supplyRule.paymentCredits})},provRule:{provWay:P["a"].createFormField({value:a.provRule.provWay}),provFrequencyType:P["a"].createFormField({value:a.provRule.provFrequencyType}),provFrequency:P["a"].createFormField({value:a.provRule.provFrequency}),provCount:P["a"].createFormField({value:a.provRule.provCount})},discountRule:{effType:P["a"].createFormField({value:a.discountRule.effType}),effDate:P["a"].createFormField({value:a.discountRule.effDate}),expType:P["a"].createFormField({value:a.discountRule.expType}),expDate:P["a"].createFormField({value:a.discountRule.expDate}),usageCounterLimit:P["a"].createFormField({value:a.discountRule.usageCounterLimit})},balanceRule:{balanceOpportunity:P["a"].createFormField({value:a.balanceRule.balanceOpportunity}),balancePrice:P["a"].createFormField({value:a.balanceRule.balancePrice})}}},onFieldsChange:function(e,a){var t=e.ruleForm,l=e.dispatch,r=Object.keys(a)[0],u=Object.keys(a[r])[0],n=a[r][u],m=n.value,s=n.errors,p=(n.validating,n.dirty);n.touched;!1===p&&void 0===s&&l({type:"rightsProduct/skip",payload:{ruleForm:C()({},t,q()({},r,C()({},t[r],q()({},u,m))))}})}}),l(u=r((n=function(e){function a(e){var t;return v()(this,a),t=R()(this,h()(a).call(this,e)),t.onValidateForm=function(){var e=t.props,a=e.form.validateFields,l=e.dispatch;a(function(e,a){e||l({type:"rightsProduct/skip",payload:{stepIndex:2}})})},t.onPrev=function(){var e=t.props.dispatch;e({type:"rightsProduct/skip",payload:{stepIndex:0}})},t.state={},t}return x()(a,e),g()(a,[{key:"render",value:function(){var e=this.props,a=e.form.getFieldDecorator,t=e.ruleForm;return D.a.createElement(W["Fragment"],null,D.a.createElement(P["a"],{layout:"horizontal",className:B.a.stepForm,hideRequiredMark:!0},D.a.createElement(p["a"],{title:"\u5151\u4ed8\u89c4\u5219",bordered:!1,style:{marginBottom:24}},D.a.createElement(o["a"],{gutter:{md:8,lg:24,xl:48}},D.a.createElement(i["a"],{md:8,sm:24},D.a.createElement(M,{label:"\u5151\u4ed8\u89e6\u70b9"},a("supplyRule.supplyTrigger",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5151\u4ed8\u89e6\u70b9"}]})(D.a.createElement(d["a"].Group,{options:[{label:"\u6743\u76ca\u5546\u57ce",value:"1000"},{label:"BOSS",value:"1100"},{label:"\u7b2c\u4e09\u65b9\u5546\u57ce",value:"1200",disabled:!0}]})))),D.a.createElement(i["a"],{md:8,sm:24},D.a.createElement(M,{label:"\u6743\u76ca\u5546\u57ce\u5151\u4ed8\u65b9\u5f0f"},a("supplyRule.supplyWay",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5151\u4ed8\u65b9\u5f0f"}]})(D.a.createElement(d["a"].Group,{options:[{label:"\u5ba2\u6237\u8ba2\u8d2d",value:"1000"},{label:"\u7cfb\u7edf\u53d1\u653e",value:"1100"}]}))))),D.a.createElement(o["a"],{gutter:{md:8,lg:24,xl:48}},D.a.createElement(i["a"],{md:8,sm:24},D.a.createElement(M,{label:"\u6743\u76ca\u5546\u57ce\u8bdd\u8d39/\u7ebf\u4e0a\u652f\u4ed8\uff08\u5143\uff09"},a("supplyRule.supplyAmount",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(D.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"48%"}},D.a.createElement(I,{value:"1"},"\u652f\u6301"),D.a.createElement(I,{value:"0"},"\u4e0d\u652f\u6301"))),a("supplyRule.paymentAmount",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u91d1\u989d"}]})(D.a.createElement(c["a"],{disabled:!(t.supplyRule.supplyAmount-0),min:0,style:{float:"right",width:"48%"},defaultValue:0,max:1e4,step:.01})))),D.a.createElement(i["a"],{md:8,sm:24},D.a.createElement(M,{label:"\u6743\u76ca\u5546\u57ce\u79ef\u5206\u652f\u4ed8\uff08\u5206\uff09"},a("supplyRule.supplyCredits",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(D.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"48%"}},D.a.createElement(I,{value:"1"},"\u652f\u6301"),D.a.createElement(I,{value:"0"},"\u4e0d\u652f\u6301"))),a("supplyRule.paymentCredits",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u6570"}]})(D.a.createElement(c["a"],{disabled:!(t.supplyRule.supplyCredits-0),min:0,style:{float:"right",width:"48%"},defaultValue:0,max:1e4,step:1})))))),D.a.createElement(p["a"],{title:"\u53d1\u653e\u89c4\u5219",bordered:!1,style:{marginBottom:24}},D.a.createElement(o["a"],{gutter:{md:8,lg:24,xl:48}},D.a.createElement(i["a"],{md:8,sm:24},D.a.createElement(M,{label:"\u53d1\u653e\u89c4\u5219"},a("provRule.provWay",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u53d1\u653e\u89c4\u5219"}]})(D.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9"},D.a.createElement(I,{value:"1000"},"\u4e00\u6b21\u65b9\u6cd5"),D.a.createElement(I,{value:"1100"},"\u6309\u6708\u53d1\u653e"))))),"1100"===t.provRule.provWay?D.a.createElement(i["a"],{md:8,sm:24},D.a.createElement(M,{label:"\u53d1\u653e\u671f\u6570"},a("provRule.provFrequencyType",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u53d1\u653e\u671f\u6570"}]})(D.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"48%"}},D.a.createElement(I,{value:"1000"},"\u56fa\u5b9a\u671f\u6570"),D.a.createElement(I,{value:"1100"},"\u65e0\u9650"))),a("provRule.provFrequency",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u671f\u6570"}]})(D.a.createElement(c["a"],{disabled:"1000"!==t.provRule.provFrequencyType,min:0,defaultValue:0,style:{float:"right",width:"48%"},formatter:function(e){return"\u56fa\u5b9a".concat(e,"\u671f")},max:1e4,step:1})))):null),D.a.createElement(o["a"],{gutter:{md:8,lg:24,xl:48}},D.a.createElement(i["a"],{md:8,sm:24},D.a.createElement(M,{label:"\u53d1\u653e\u6570\u91cf\uff08\u6b21\uff09"},a("provRule.provCount",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u91cf"}]})(D.a.createElement(c["a"],{min:0,style:{width:"100%"},defaultValue:0,max:1e4,step:1})))))),D.a.createElement(p["a"],{title:"\u4f7f\u7528\u89c4\u5219",bordered:!1,style:{marginBottom:24}},D.a.createElement(o["a"],{gutter:{md:8,lg:24,xl:48}},D.a.createElement(i["a"],{md:8,sm:24},D.a.createElement(M,{label:"\u751f\u6548\u7c7b\u578b"},a("discountRule.effType",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6743\u76ca\u8d44\u6e90"}]})(D.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9",style:"1100"===t.discountRule.effType?{width:"48%"}:{width:"100%"}},D.a.createElement(I,{value:"1000"},"\u53d1\u653e\u540e\u7acb\u5373\u751f\u6548"),D.a.createElement(I,{value:"1100"},"\u56fa\u5b9a\u65e5\u671f\u751f\u6548"),D.a.createElement(I,{value:"1200"},"\u6bcf\u671f\u671f\u521d\u751f\u6548"))),"1100"===t.discountRule.effType?a("discountRule.effDate",{})(D.a.createElement(s["a"],{disabled:"1100"!==t.discountRule.effType,style:{float:"right",width:"48%"}})):null)),D.a.createElement(i["a"],{md:8,sm:24},D.a.createElement(M,{label:"\u5931\u6548\u7c7b\u578b"},a("discountRule.expType",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6743\u76ca\u8d44\u6e90"}]})(D.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9",style:"1000"===t.discountRule.expType||"1100"===t.discountRule.expType?{width:"48%"}:{width:"100%"}},D.a.createElement(I,{value:"1000"},"\u53d1\u653e\u540e\u56fa\u5b9a\u5929\u6570\u5931\u6548"),D.a.createElement(I,{value:"1100"},"\u56fa\u5b9a\u65e5\u671f\u5931\u6548"),D.a.createElement(I,{value:"1200"},"\u6bcf\u671f\u671f\u672b\u5931\u6548"))),"1000"===t.discountRule.expType?a("discountRule.expDate",{})(D.a.createElement(s["a"],{style:{float:"right",width:"48%"}})):"1100"===t.discountRule.expType?a("discountRule.usageCounterLimit",{})(D.a.createElement(c["a"],{min:0,style:{float:"right",width:"48%"},defaultValue:0,max:1e4,step:1})):null)))),D.a.createElement(p["a"],{title:"\u7ed3\u7b97\u89c4\u5219",bordered:!1,style:{marginBottom:24}},D.a.createElement(o["a"],{gutter:{md:8,lg:24,xl:48}},D.a.createElement(i["a"],{md:8,sm:24},D.a.createElement(M,{label:"\u7ed3\u7b97\u65f6\u95f4"},a("balanceRule.balanceOpportunity",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(D.a.createElement(k["a"],{placeholder:"\u8bf7\u9009\u62e9"},D.a.createElement(I,{value:"1000"},"\u4f7f\u7528\u5373\u7ed3\u7b97"),D.a.createElement(I,{value:"1100"},"\u4f7f\u7528\u4e2d\u6bcf\u6708\u7ed3\u7b97"))))),D.a.createElement(i["a"],{md:8,sm:24},D.a.createElement(M,{label:"\u7ed3\u7b97\u5355\u4ef7\uff08\u5143\uff09"},a("balanceRule.balancePrice",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(D.a.createElement(c["a"],{min:0,style:{width:"100%"},defaultValue:0,max:1e4,step:.01})))))),D.a.createElement(V["a"],null,D.a.createElement(m["a"],{onClick:this.onPrev,style:{marginRight:8}},"\u4e0a\u4e00\u6b65"),D.a.createElement(m["a"],{type:"primary",onClick:this.onValidateForm},"\u4e0b\u4e00\u6b65"))))}}]),a}(W["PureComponent"]),u=n))||u)||u);a["default"]=J}}]);